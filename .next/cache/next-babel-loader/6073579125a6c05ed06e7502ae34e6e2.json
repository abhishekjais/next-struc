{"ast":null,"code":"import Router from 'next/router';\nimport axios from 'axios';\nimport { PRO_LIST } from './ActionsTypes';\n\nvar getProduct = function getProduct(query, type) {\n  return function (dispatch) {\n    axios.get(\"https://fakestoreapi.com/products\", {\n      // headers: {\n      //     \"Authorization\": \"bearer \" + token\n      // }\n      params: query\n    }).then(function (response) {\n      console.log(response, 'response');\n      dispatch({\n        type: PRO_LIST,\n        payload: response.data.user\n      });\n    })[\"catch\"](function (error) {\n      console.log(error, 'error.response');\n\n      switch (error.response.status) {\n        case 401:\n          Router.push('/');\n          break;\n\n        case 422:\n          alert(error.response.data.meta.message);\n          break;\n\n        case 500:\n          alert('Interval server error! Try again!');\n\n        case 503:\n          alert(error.response.data.meta.message);\n          Router.push('/');\n          break;\n\n        default:\n          alert(error.response.data.meta.message);\n          break;\n      }\n    });\n  };\n};\n\nexport default {\n  getProduct: getProduct\n};","map":{"version":3,"sources":["D:/React/next-struc/store/actions/product.tsx"],"names":["Router","axios","PRO_LIST","getProduct","query","type","dispatch","get","params","then","response","console","log","payload","data","user","error","status","push","alert","meta","message"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,aAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,gBAAzB;;AAIA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAaC,IAAb,EAA2B;AAC1C,SAAO,UAACC,QAAD,EAAmB;AACtBL,IAAAA,KAAK,CAACM,GAAN,sCAA+C;AAC3C;AACA;AACA;AACAC,MAAAA,MAAM,EAAEJ;AAJmC,KAA/C,EAMKK,IANL,CAMU,UAACC,QAAD,EAAc;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAAsB,UAAtB;AACAJ,MAAAA,QAAQ,CAAC;AAAED,QAAAA,IAAI,EAAEH,QAAR;AAAkBW,QAAAA,OAAO,EAAEH,QAAQ,CAACI,IAAT,CAAcC;AAAzC,OAAD,CAAR;AACH,KATL,WAUW,UAACC,KAAD,EAAW;AACdL,MAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ,EAAmB,gBAAnB;;AACA,cAAQA,KAAK,CAACN,QAAN,CAAeO,MAAvB;AACI,aAAK,GAAL;AACIjB,UAAAA,MAAM,CAACkB,IAAP,CAAY,GAAZ;AACA;;AACJ,aAAK,GAAL;AACIC,UAAAA,KAAK,CAACH,KAAK,CAACN,QAAN,CAAeI,IAAf,CAAoBM,IAApB,CAAyBC,OAA1B,CAAL;AACA;;AACJ,aAAK,GAAL;AACIF,UAAAA,KAAK,CAAC,mCAAD,CAAL;;AACJ,aAAK,GAAL;AACIA,UAAAA,KAAK,CAACH,KAAK,CAACN,QAAN,CAAeI,IAAf,CAAoBM,IAApB,CAAyBC,OAA1B,CAAL;AACArB,UAAAA,MAAM,CAACkB,IAAP,CAAY,GAAZ;AACA;;AACJ;AACIC,UAAAA,KAAK,CAACH,KAAK,CAACN,QAAN,CAAeI,IAAf,CAAoBM,IAApB,CAAyBC,OAA1B,CAAL;AACA;AAfR;AAiBH,KA7BL;AA8BH,GA/BD;AAgCH,CAjCD;;AAmCA,eAAe;AACXlB,EAAAA,UAAU,EAAVA;AADW,CAAf","sourcesContent":["import Router from 'next/router';\r\nimport axios from 'axios';\r\nimport { PRO_LIST } from './ActionsTypes';\r\nimport { API } from '../../config';\r\n\r\n\r\nconst getProduct = (query: any, type: any) => {\r\n    return (dispatch: any) => {\r\n        axios.get(`https://fakestoreapi.com/products`, {\r\n            // headers: {\r\n            //     \"Authorization\": \"bearer \" + token\r\n            // }\r\n            params: query\r\n        })\r\n            .then((response) => {\r\n                console.log(response, 'response');\r\n                dispatch({ type: PRO_LIST, payload: response.data.user });\r\n            })\r\n            .catch((error) => {\r\n                console.log(error, 'error.response');\r\n                switch (error.response.status) {\r\n                    case 401:\r\n                        Router.push('/');\r\n                        break;\r\n                    case 422:\r\n                        alert(error.response.data.meta.message);\r\n                        break;\r\n                    case 500:\r\n                        alert('Interval server error! Try again!');\r\n                    case 503:\r\n                        alert(error.response.data.meta.message);\r\n                        Router.push('/');\r\n                        break;\r\n                    default:\r\n                        alert(error.response.data.meta.message);\r\n                        break;\r\n                }\r\n            });\r\n    };\r\n};\r\n\r\nexport default {\r\n    getProduct\r\n}\r\n"]},"metadata":{},"sourceType":"module"}