{"ast":null,"code":"import { session, promisifyStore, Store, MemoryStore } from 'next-session';\nimport connectMongo from 'connect-mongo';\nconst MongoStore = connectMongo({\n  Store,\n  MemoryStore\n});\nexport default function (req, res, next) {\n  const mongoStore = new MongoStore({\n    client: req.dbClient,\n    // see how we use req.dbClient from the previous step\n    stringify: false\n  });\n  return session({\n    store: promisifyStore(mongoStore)\n  })(req, res, next);\n}","map":{"version":3,"sources":["/var/local/react/next-struc/middlewares/session.js"],"names":["session","promisifyStore","Store","MemoryStore","connectMongo","MongoStore","req","res","next","mongoStore","client","dbClient","stringify","store"],"mappings":"AAAA,SACIA,OADJ,EACaC,cADb,EAC6BC,KAD7B,EACoCC,WADpC,QAEO,cAFP;AAGA,OAAOC,YAAP,MAAyB,eAAzB;AAEA,MAAMC,UAAU,GAAGD,YAAY,CAAC;AAAEF,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAD,CAA/B;AAEA,eAAe,UAAUG,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AACrC,QAAMC,UAAU,GAAG,IAAIJ,UAAJ,CAAe;AAC9BK,IAAAA,MAAM,EAAEJ,GAAG,CAACK,QADkB;AACR;AACtBC,IAAAA,SAAS,EAAE;AAFmB,GAAf,CAAnB;AAIA,SAAOZ,OAAO,CAAC;AACXa,IAAAA,KAAK,EAAEZ,cAAc,CAACQ,UAAD;AADV,GAAD,CAAP,CAEJH,GAFI,EAECC,GAFD,EAEMC,IAFN,CAAP;AAGH","sourcesContent":["import {\n    session, promisifyStore, Store, MemoryStore,\n} from 'next-session';\nimport connectMongo from 'connect-mongo';\n\nconst MongoStore = connectMongo({ Store, MemoryStore });\n\nexport default function (req, res, next) {\n    const mongoStore = new MongoStore({\n        client: req.dbClient, // see how we use req.dbClient from the previous step\n        stringify: false,\n    });\n    return session({\n        store: promisifyStore(mongoStore),\n    })(req, res, next);\n}"]},"metadata":{},"sourceType":"module"}