{"ast":null,"code":"import Router from 'next/router';\nimport axios from 'axios';\nimport { PRO_LIST } from './ActionsTypes';\nimport { API } from '../../config';\n\nconst getProduct = (query, type) => {\n  return dispatch => {\n    axios.get(`${API}/${type}`, {\n      // headers: {\n      //     \"Authorization\": \"bearer \" + token\n      // }\n      params: query\n    }).then(response => {\n      // console.log(response, 'response');\n      dispatch({\n        type: PRO_LIST,\n        payload: response.data.user\n      });\n    }).catch(error => {\n      console.log(error, 'error.response');\n\n      switch (error.response.status) {\n        case 401:\n          Router.push('/');\n          break;\n\n        case 422:\n          alert(error.response.data.meta.message);\n          break;\n\n        case 500:\n          alert('Interval server error! Try again!');\n\n        case 503:\n          alert(error.response.data.meta.message);\n          Router.push('/');\n          break;\n\n        default:\n          alert(error.response.data.meta.message);\n          break;\n      }\n    });\n  };\n};\n\nexport default {\n  getProduct\n};","map":{"version":3,"sources":["D:/React/next-struc/store/actions/product.tsx"],"names":["Router","axios","PRO_LIST","API","getProduct","query","type","dispatch","get","params","then","response","payload","data","user","catch","error","console","log","status","push","alert","meta","message"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,aAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,SAASC,GAAT,QAAoB,cAApB;;AAGA,MAAMC,UAAU,GAAG,CAACC,KAAD,EAAaC,IAAb,KAA2B;AAC1C,SAAQC,QAAD,IAAmB;AACtBN,IAAAA,KAAK,CAACO,GAAN,CAAW,GAAEL,GAAI,IAAGG,IAAK,EAAzB,EAA4B;AACxB;AACA;AACA;AACAG,MAAAA,MAAM,EAAEJ;AAJgB,KAA5B,EAMKK,IANL,CAMWC,QAAD,IAAc;AAChB;AACAJ,MAAAA,QAAQ,CAAC;AAAED,QAAAA,IAAI,EAAEJ,QAAR;AAAkBU,QAAAA,OAAO,EAAED,QAAQ,CAACE,IAAT,CAAcC;AAAzC,OAAD,CAAR;AACH,KATL,EAUKC,KAVL,CAUYC,KAAD,IAAW;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAAmB,gBAAnB;;AACA,cAAQA,KAAK,CAACL,QAAN,CAAeQ,MAAvB;AACI,aAAK,GAAL;AACInB,UAAAA,MAAM,CAACoB,IAAP,CAAY,GAAZ;AACA;;AACJ,aAAK,GAAL;AACIC,UAAAA,KAAK,CAACL,KAAK,CAACL,QAAN,CAAeE,IAAf,CAAoBS,IAApB,CAAyBC,OAA1B,CAAL;AACA;;AACJ,aAAK,GAAL;AACIF,UAAAA,KAAK,CAAC,mCAAD,CAAL;;AACJ,aAAK,GAAL;AACIA,UAAAA,KAAK,CAACL,KAAK,CAACL,QAAN,CAAeE,IAAf,CAAoBS,IAApB,CAAyBC,OAA1B,CAAL;AACAvB,UAAAA,MAAM,CAACoB,IAAP,CAAY,GAAZ;AACA;;AACJ;AACIC,UAAAA,KAAK,CAACL,KAAK,CAACL,QAAN,CAAeE,IAAf,CAAoBS,IAApB,CAAyBC,OAA1B,CAAL;AACA;AAfR;AAiBH,KA7BL;AA8BH,GA/BD;AAgCH,CAjCD;;AAmCA,eAAe;AACXnB,EAAAA;AADW,CAAf","sourcesContent":["import Router from 'next/router';\r\nimport axios from 'axios';\r\nimport { PRO_LIST } from './ActionsTypes';\r\nimport { API } from '../../config';\r\n\r\n\r\nconst getProduct = (query: any, type: any) => {\r\n    return (dispatch: any) => {\r\n        axios.get(`${API}/${type}`, {\r\n            // headers: {\r\n            //     \"Authorization\": \"bearer \" + token\r\n            // }\r\n            params: query\r\n        })\r\n            .then((response) => {\r\n                // console.log(response, 'response');\r\n                dispatch({ type: PRO_LIST, payload: response.data.user });\r\n            })\r\n            .catch((error) => {\r\n                console.log(error, 'error.response');\r\n                switch (error.response.status) {\r\n                    case 401:\r\n                        Router.push('/');\r\n                        break;\r\n                    case 422:\r\n                        alert(error.response.data.meta.message);\r\n                        break;\r\n                    case 500:\r\n                        alert('Interval server error! Try again!');\r\n                    case 503:\r\n                        alert(error.response.data.meta.message);\r\n                        Router.push('/');\r\n                        break;\r\n                    default:\r\n                        alert(error.response.data.meta.message);\r\n                        break;\r\n                }\r\n            });\r\n    };\r\n};\r\n\r\nexport default {\r\n    getProduct\r\n}\r\n"]},"metadata":{},"sourceType":"module"}