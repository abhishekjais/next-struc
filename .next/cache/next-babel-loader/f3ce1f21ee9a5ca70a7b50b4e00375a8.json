{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Router from 'next/router';\nimport axios from 'axios';\nimport { PRO_LIST } from './ActionsTypes';\nimport { API } from '../../config';\nexport var getProduct = function getProduct(route, query) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get(\"\".concat(API, \"/\").concat(route), {\n                params: query\n              });\n\n            case 3:\n              res = _context.sent;\n              // console.log(res, 'ppppppppp');\n              dispatch({\n                type: PRO_LIST,\n                payload: res.data\n              });\n              _context.next = 26;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0, 'error.response');\n              _context.t1 = _context.t0.response.status;\n              _context.next = _context.t1 === 401 ? 13 : _context.t1 === 422 ? 15 : _context.t1 === 500 ? 17 : _context.t1 === 503 ? 18 : _context.t1 === 503 ? 21 : 24;\n              break;\n\n            case 13:\n              Router.push('/');\n              return _context.abrupt(\"break\", 26);\n\n            case 15:\n              alert(_context.t0.response.data.meta.message);\n              return _context.abrupt(\"break\", 26);\n\n            case 17:\n              alert('Interval server error! Try again!');\n\n            case 18:\n              alert(_context.t0.response.data.meta.message);\n              Router.push('/');\n              return _context.abrupt(\"break\", 26);\n\n            case 21:\n              alert(_context.t0.response.statusText);\n              Router.push('/');\n              return _context.abrupt(\"break\", 26);\n\n            case 24:\n              alert(_context.t0.response.data.meta.message);\n              return _context.abrupt(\"break\", 26);\n\n            case 26:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport default {\n  getProduct: getProduct\n};","map":{"version":3,"sources":["D:/React/next-struc/store/actions/product.tsx"],"names":["Router","axios","PRO_LIST","API","getProduct","route","query","dispatch","get","params","res","type","payload","data","console","log","response","status","push","alert","meta","message","statusText"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,aAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,SAASC,GAAT,QAAoB,cAApB;AAIA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAgBC,KAAhB,EAA+B;AACrD;AAAA,wEAAO,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEmBN,KAAK,CAACO,GAAN,WAAaL,GAAb,cAAoBE,KAApB,GAA6B;AAAEI,gBAAAA,MAAM,EAAEH;AAAV,eAA7B,CAFnB;;AAAA;AAEOI,cAAAA,GAFP;AAGC;AAEAH,cAAAA,QAAQ,CAAC;AAAEI,gBAAAA,IAAI,EAAET,QAAR;AAAkBU,gBAAAA,OAAO,EAAEF,GAAG,CAACG;AAA/B,eAAD,CAAR;AALD;AAAA;;AAAA;AAAA;AAAA;AAOCC,cAAAA,OAAO,CAACC,GAAR,cAAmB,gBAAnB;AAPD,4BAQS,YAAMC,QAAN,CAAeC,MARxB;AAAA,8CASU,GATV,wBAYU,GAZV,wBAeU,GAfV,wBAiBU,GAjBV,wBAqBU,GArBV;AAAA;;AAAA;AAUSjB,cAAAA,MAAM,CAACkB,IAAP,CAAY,GAAZ;AAVT;;AAAA;AAaSC,cAAAA,KAAK,CAAC,YAAMH,QAAN,CAAeH,IAAf,CAAoBO,IAApB,CAAyBC,OAA1B,CAAL;AAbT;;AAAA;AAgBSF,cAAAA,KAAK,CAAC,mCAAD,CAAL;;AAhBT;AAkBSA,cAAAA,KAAK,CAAC,YAAMH,QAAN,CAAeH,IAAf,CAAoBO,IAApB,CAAyBC,OAA1B,CAAL;AACArB,cAAAA,MAAM,CAACkB,IAAP,CAAY,GAAZ;AAnBT;;AAAA;AAsBSC,cAAAA,KAAK,CAAC,YAAMH,QAAN,CAAeM,UAAhB,CAAL;AACAtB,cAAAA,MAAM,CAACkB,IAAP,CAAY,GAAZ;AAvBT;;AAAA;AA0BSC,cAAAA,KAAK,CAAC,YAAMH,QAAN,CAAeH,IAAf,CAAoBO,IAApB,CAAyBC,OAA1B,CAAL;AA1BT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;;AAAA;AAAA;AAAA;AAAA;AA+BH,CAhCM;AAkCP,eAAe;AACXjB,EAAAA,UAAU,EAAVA;AADW,CAAf","sourcesContent":["import Router from 'next/router';\r\nimport axios from 'axios';\r\nimport { PRO_LIST } from './ActionsTypes';\r\nimport { API } from '../../config';\r\n\r\n\r\n\r\nexport const getProduct = (route: string, query: any) => {\r\n    return async (dispatch: any) => {\r\n        try {\r\n            const res = await axios.get(`${API}/${route}`, { params: query });\r\n            // console.log(res, 'ppppppppp');\r\n\r\n            dispatch({ type: PRO_LIST, payload: res.data });\r\n        } catch (error) {\r\n            console.log(error, 'error.response');\r\n            switch (error.response.status) {\r\n                case 401:\r\n                    Router.push('/');\r\n                    break;\r\n                case 422:\r\n                    alert(error.response.data.meta.message);\r\n                    break;\r\n                case 500:\r\n                    alert('Interval server error! Try again!');\r\n                case 503:\r\n                    alert(error.response.data.meta.message);\r\n                    Router.push('/');\r\n                    break;\r\n                case 503:\r\n                    alert(error.response.statusText);\r\n                    Router.push('/');\r\n                    break;\r\n                default:\r\n                    alert(error.response.data.meta.message);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default {\r\n    getProduct\r\n}\r\n"]},"metadata":{},"sourceType":"module"}